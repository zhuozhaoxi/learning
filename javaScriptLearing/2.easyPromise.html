<!DOCTYPE html>
<html>
<head>
    <title>ces</title>
    <meta charset="utf-8">
    <script type="text/javascript" src='/js/jquery.min.js'></script>
</head>
<body>
</body>
<!-- 简单的promise实现 -->
<script type="text/javascript">
    function iPromise(fn){
        this.thenFn = null;
        this.catchFn = null;
        var self = this;
        var resolveFn = function(){
            if(self.thenFn){
                self.thenFn();
            }
        };
        var rejectFn = function(){
            if(self.catchFn){
                self.catchFn();
            }
        };

        this.then = function(fn){
            this.thenFn = fn;
            return this;
        };

        this.catch = function(fn){
            this.catchFn = fn;
            return this;
        };

        fn(resolveFn,rejectFn);

        return this;
    }

    var test = new iPromise(function(resolve,reject){
        setTimeout(function(){
            resolve();
        },5000);
    }).then(function(){
        alert('then')
    }).catch(function(){
        alert('catch')
    });

</script>
</html>